<svg width="1400" height="900" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title-text { font: bold 16px Arial; fill: #232F3E; }
      .label-text { font: 12px Arial; fill: #232F3E; }
      .small-text { font: 10px Arial; fill: #232F3E; }
      .tiny-text { font: 9px monospace; fill: #232F3E; }
      .vpc-green { fill: none; stroke: #7AA116; stroke-width: 3; stroke-dasharray: 8,4; }
      .az-blue { fill: none; stroke: #147EBA; stroke-width: 2; stroke-dasharray: 5,3; }
      .subnet-public { fill: #d5e8d4; stroke: #82b366; stroke-width: 2; }
      .subnet-private { fill: #ffe6cc; stroke: #d79b00; stroke-width: 2; }
      .route-table { fill: #e1d5e7; stroke: #9673a6; stroke-width: 1; }
      .connection { stroke: #232F3E; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .route-connection { stroke: #9673a6; stroke-width: 1; fill: none; stroke-dasharray: 3,2; }
      .nat-connection { stroke: #146EB4; stroke-width: 2; fill: none; marker-end: url(#arrowhead-blue); }
      .replication { stroke: #3F48CC; stroke-width: 3; fill: none; stroke-dasharray: 4,4; marker-end: url(#arrowhead-blue); marker-start: url(#arrowhead-blue); }
    </style>
    <marker id="arrowhead" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#232F3E" />
    </marker>
    <marker id="arrowhead-blue" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#146EB4" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="700" y="30" text-anchor="middle" class="title-text">VPC Network Architecture Detail</text>
  
  <!-- VPC Container -->
  <rect x="50" y="60" width="1200" height="750" class="vpc-green" rx="10"/>
  <text x="70" y="85" class="label-text" fill="#7AA116">VPC: 10.0.0.0/16 (money-management-vpc) - 65,536 IP addresses</text>
  
  <!-- Internet Gateway -->
  <rect x="580" y="100" width="100" height="60" fill="#146EB4" stroke="#fff" stroke-width="2" rx="5"/>
  <text x="630" y="125" text-anchor="middle" fill="white" class="label-text">Internet</text>
  <text x="630" y="140" text-anchor="middle" fill="white" class="label-text">Gateway</text>
  
  <!-- Route Tables -->
  <rect x="200" y="190" width="140" height="50" class="route-table" rx="3"/>
  <text x="270" y="210" text-anchor="middle" class="small-text">Public Route Table</text>
  <text x="270" y="225" text-anchor="middle" class="tiny-text">0.0.0.0/0 → IGW</text>
  <text x="270" y="235" text-anchor="middle" class="tiny-text">10.0.0.0/16 → Local</text>
  
  <rect x="200" y="500" width="150" height="50" class="route-table" rx="3"/>
  <text x="275" y="520" text-anchor="middle" class="small-text">Private Route Table A</text>
  <text x="275" y="535" text-anchor="middle" class="tiny-text">0.0.0.0/0 → NAT-A</text>
  <text x="275" y="545" text-anchor="middle" class="tiny-text">10.0.0.0/16 → Local</text>
  
  <rect x="950" y="500" width="150" height="50" class="route-table" rx="3"/>
  <text x="1025" y="520" text-anchor="middle" class="small-text">Private Route Table C</text>
  <text x="1025" y="535" text-anchor="middle" class="tiny-text">0.0.0.0/0 → NAT-C</text>
  <text x="1025" y="545" text-anchor="middle" class="tiny-text">10.0.0.0/16 → Local</text>
  
  <!-- Availability Zone A -->
  <rect x="100" y="280" width="580" height="480" class="az-blue" rx="10"/>
  <text x="120" y="305" class="label-text" fill="#147EBA">Availability Zone: ap-northeast-1a</text>
  
  <!-- Availability Zone C -->
  <rect x="720" y="280" width="580" height="480" class="az-blue" rx="10"/>
  <text x="740" y="305" class="label-text" fill="#147EBA">Availability Zone: ap-northeast-1c</text>
  
  <!-- Public Subnet A -->
  <rect x="120" y="320" width="250" height="120" class="subnet-public" rx="5"/>
  <text x="130" y="340" class="small-text" fill="#82b366">Public Subnet A</text>
  <text x="130" y="355" class="small-text" fill="#82b366">10.0.1.0/24 (254 IPs available)</text>
  <text x="130" y="370" class="tiny-text">Reserved: .0/.1/.2/.3/.255</text>
  
  <!-- Public Subnet C -->
  <rect x="740" y="320" width="250" height="120" class="subnet-public" rx="5"/>
  <text x="750" y="340" class="small-text" fill="#82b366">Public Subnet C</text>
  <text x="750" y="355" class="small-text" fill="#82b366">10.0.2.0/24 (254 IPs available)</text>
  <text x="750" y="370" class="tiny-text">Reserved: .0/.1/.2/.3/.255</text>
  
  <!-- NAT Gateway A -->
  <rect x="200" y="380" width="80" height="50" fill="#146EB4" stroke="#fff" stroke-width="2" rx="5"/>
  <text x="240" y="400" text-anchor="middle" fill="white" class="small-text">NAT Gateway A</text>
  <text x="240" y="415" text-anchor="middle" fill="white" class="tiny-text">10.0.1.10</text>
  
  <!-- NAT Gateway C -->
  <rect x="820" y="380" width="80" height="50" fill="#146EB4" stroke="#fff" stroke-width="2" rx="5"/>
  <text x="860" y="400" text-anchor="middle" fill="white" class="small-text">NAT Gateway C</text>
  <text x="860" y="415" text-anchor="middle" fill="white" class="tiny-text">10.0.2.10</text>
  
  <!-- Private Subnet A -->
  <rect x="120" y="470" width="540" height="270" class="subnet-private" rx="5"/>
  <text x="130" y="490" class="small-text" fill="#d79b00">Private Subnet A: 10.0.11.0/24 (254 IPs available)</text>
  <text x="130" y="505" class="tiny-text">Reserved: .0/.1/.2/.3/.255 | Available: .4-.254</text>
  
  <!-- Private Subnet C -->
  <rect x="740" y="470" width="540" height="270" class="subnet-private" rx="5"/>
  <text x="750" y="490" class="small-text" fill="#d79b00">Private Subnet C: 10.0.12.0/24 (254 IPs available)</text>
  <text x="750" y="505" class="tiny-text">Reserved: .0/.1/.2/.3/.255 | Available: .4-.254</text>
  
  <!-- ECS Tasks A -->
  <rect x="150" y="530" width="70" height="60" fill="#D13212" stroke="#fff" stroke-width="2" rx="3"/>
  <text x="185" y="550" text-anchor="middle" fill="white" class="small-text">ECS Task 1</text>
  <text x="185" y="565" text-anchor="middle" fill="white" class="tiny-text">10.0.11.50</text>
  <text x="185" y="580" text-anchor="middle" fill="white" class="tiny-text">Port: 8080</text>
  
  <rect x="240" y="530" width="70" height="60" fill="#D13212" stroke="#fff" stroke-width="2" rx="3"/>
  <text x="275" y="550" text-anchor="middle" fill="white" class="small-text">ECS Task 2</text>
  <text x="275" y="565" text-anchor="middle" fill="white" class="tiny-text">10.0.11.51</text>
  <text x="275" y="580" text-anchor="middle" fill="white" class="tiny-text">Port: 8080</text>
  
  <!-- ECS Tasks C -->
  <rect x="770" y="530" width="70" height="60" fill="#D13212" stroke="#fff" stroke-width="2" rx="3"/>
  <text x="805" y="550" text-anchor="middle" fill="white" class="small-text">ECS Task 3</text>
  <text x="805" y="565" text-anchor="middle" fill="white" class="tiny-text">10.0.12.50</text>
  <text x="805" y="580" text-anchor="middle" fill="white" class="tiny-text">Port: 8080</text>
  
  <rect x="860" y="530" width="70" height="60" fill="#D13212" stroke="#fff" stroke-width="2" rx="3"/>
  <text x="895" y="550" text-anchor="middle" fill="white" class="small-text">ECS Task 4</text>
  <text x="895" y="565" text-anchor="middle" fill="white" class="tiny-text">10.0.12.51</text>
  <text x="895" y="580" text-anchor="middle" fill="white" class="tiny-text">Port: 8080</text>
  
  <!-- RDS Primary -->
  <rect x="440" y="530" width="100" height="80" fill="#3F48CC" stroke="#fff" stroke-width="2" rx="5"/>
  <text x="490" y="555" text-anchor="middle" fill="white" class="small-text">RDS MySQL</text>
  <text x="490" y="570" text-anchor="middle" fill="white" class="small-text">Primary</text>
  <text x="490" y="585" text-anchor="middle" fill="white" class="tiny-text">10.0.11.100</text>
  <text x="490" y="600" text-anchor="middle" fill="white" class="tiny-text">Port: 3306</text>
  
  <!-- RDS Standby -->
  <rect x="1060" y="530" width="100" height="80" fill="#3F48CC" stroke="#fff" stroke-width="2" rx="5"/>
  <text x="1110" y="555" text-anchor="middle" fill="white" class="small-text">RDS MySQL</text>
  <text x="1110" y="570" text-anchor="middle" fill="white" class="small-text">Standby</text>
  <text x="1110" y="585" text-anchor="middle" fill="white" class="tiny-text">10.0.12.100</text>
  <text x="1110" y="600" text-anchor="middle" fill="white" class="tiny-text">Port: 3306</text>
  
  <!-- Connections -->
  <!-- IGW to Public Route Table -->
  <line x1="600" y1="160" x2="340" y2="190" class="connection"/>
  
  <!-- Route Table connections to subnets -->
  <line x1="270" y1="240" x2="245" y2="320" class="route-connection"/>
  <line x1="340" y1="215" x2="865" y2="320" class="route-connection"/>
  
  <!-- NAT to Private Route Tables -->
  <line x1="240" y1="430" x2="275" y2="500" class="nat-connection"/>
  <line x1="860" y1="430" x2="1025" y2="500" class="nat-connection"/>
  
  <!-- Private Route Tables to Private Subnets -->
  <line x1="275" y1="550" x2="330" y2="570" class="route-connection"/>
  <line x1="1025" y1="550" x2="970" y2="570" class="route-connection"/>
  
  <!-- ECS to RDS connections -->
  <line x1="220" y1="580" x2="440" y2="580" class="connection"/>
  <line x1="310" y1="580" x2="440" y2="580" class="connection"/>
  <line x1="840" y1="580" x2="1060" y2="580" class="connection"/>
  <line x1="930" y1="580" x2="1060" y2="580" class="connection"/>
  
  <!-- RDS Replication -->
  <line x1="540" y1="580" x2="1060" y2="580" class="replication"/>
  <text x="800" y="600" text-anchor="middle" class="small-text" fill="#3F48CC">Multi-AZ Synchronous Replication</text>
  
  <!-- IP Address Allocation Table -->
  <rect x="80" y="780" width="600" height="110" fill="#f8f9fa" stroke="#6c757d" stroke-width="1" rx="5"/>
  <text x="90" y="800" class="label-text">IP Address Allocation Details</text>
  
  <text x="90" y="820" class="small-text">• VPC CIDR: 10.0.0.0/16 → 10.0.0.1 - 10.0.255.254 (65,534 usable IPs)</text>
  <text x="90" y="835" class="small-text">• Public Subnet A: 10.0.1.0/24 → 10.0.1.4 - 10.0.1.254 (251 usable)</text>
  <text x="90" y="850" class="small-text">• Public Subnet C: 10.0.2.0/24 → 10.0.2.4 - 10.0.2.254 (251 usable)</text>
  <text x="90" y="865" class="small-text">• Private Subnet A: 10.0.11.0/24 → 10.0.11.4 - 10.0.11.254 (251 usable)</text>
  <text x="90" y="880" class="small-text">• Private Subnet C: 10.0.12.0/24 → 10.0.12.4 - 10.0.12.254 (251 usable)</text>
  
  <!-- Network Flow Information -->
  <rect x="720" y="780" width="500" height="110" fill="#e8f4f8" stroke="#0066cc" stroke-width="1" rx="5"/>
  <text x="730" y="800" class="label-text" fill="#0066cc">Network Traffic Flow</text>
  
  <text x="730" y="820" class="small-text">✓ Internet → IGW → Public Subnets (bidirectional)</text>
  <text x="730" y="835" class="small-text">✓ Private Subnets → NAT Gateway → IGW → Internet</text>
  <text x="730" y="850" class="small-text">✓ ECS Tasks communicate with RDS within VPC</text>
  <text x="730" y="865" class="small-text">✓ Cross-AZ replication uses AWS backbone network</text>
  <text x="730" y="880" class="small-text">⚠ No direct inbound access to Private Subnets</text>
  
</svg>